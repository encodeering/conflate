/**
 *http://ryanharter.com/blog/2013/07/30/automatic-versioning-with-git-and-gradle/
 **/
ext.versioncode = { String defver = '0.0.0' ->
    try {
        def stdout = new ByteArrayOutputStream()
        exec {
            commandLine 'git', 'describe', '--tags'
            standardOutput = stdout
            errorOutput = new ByteArrayOutputStream()
        }
        return stdout.toString ().trim ()
    } catch (e) {
        return defver
    }
}
